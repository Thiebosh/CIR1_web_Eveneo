<?php
session_start();
<<<<<<< HEAD
include('game.php');

dÃ©roulementJeu();


include('template.html');
?>
=======
if (isset($_GET['restart'])) {
	session_destroy();
	session_start();
}

require('game.php');
$started = true;
if(!isset($_SESSION['game'])) {
	$_SESSION['generation'] = 0;
	$nbRow = isset($_GET['row']) && filter_var($_GET['row'], FILTER_SANITIZE_NUMBER_INT) ? filter_var($_GET['row'], FILTER_SANITIZE_NUMBER_INT): 25;
	$nbCol = isset($_GET['col']) && filter_var($_GET['col'], FILTER_SANITIZE_NUMBER_INT) ? filter_var($_GET['col'], FILTER_SANITIZE_NUMBER_INT): 25;
	$_SESSION['game'] = initializeGame($nbRow, $nbCol);
} 
if((isset($_GET['nb_generation']) && filter_var($_GET['nb_generation'], FILTER_SANITIZE_NUMBER_INT)) || $_SESSION['generation'] > 0) {
	$loops = (isset($_GET['nb_generation']) && filter_var($_GET['nb_generation'], FILTER_SANITIZE_NUMBER_INT)) ? (int)$_GET['nb_generation'] : 1;
	for($i = 0; $i < $loops; $i++) {
		$oldGame = $_SESSION['game'];
		$_SESSION['game'] = nextGeneration($_SESSION['game']);
		$started = !gameIsStill($oldGame, $_SESSION['game']);
		$_SESSION['generation']++;
	}
} else if ($_SESSION["generation"] == 0 ){
	$_SESSION["generation"] = 1;
}
include('template.html');
>>>>>>> 272f1d8308cdeceb2dbe7f694a1e849433507674
